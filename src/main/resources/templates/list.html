<!doctype html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link href="/main.css" rel="stylesheet">
</head>
<body>
<div th:replace = "~{ nav.html::navbar}"></div>



<div class="card" th:each=" i :${items} ">
    <img src="https://placehold.co/300">
    <div>
        <a th:href = "@{'/detail/' + ${i.id}}"><h4 th:text="${i.title}">ìƒí’ˆëª…</h4></a>
        <p th:text = "${i.price + 'ì›'}">ê°€ê²©</p>
        <a th:href = "@{'/edit/' + ${i.id}}">&#9999;&#65039</a>

<!--        <a th:href = "@{'/edit/'}">ìˆ˜ì •</a>-->
        <span th:onclick = "fetch(`/item?id=[[${i.id}]]` ,  { method : 'DELETE' })


            .then(r => r.text())
            .then(() => {
                location.reload();
            })
            ">ğŸ—‘ï¸</span>
    </div>
</div>



<script>
    // document.querySelectorAll('.btn')[0].addEventListener('click', function () {
    //     fetch('/test1', {
    //         method: 'POST',     //ìš”ì²­í• ë©”ì„œë“œ
    //         headers: {'Content-Type': 'application/json'},
    //         body: JSON.stringify({name: 'kim'})   //ì „ì†¡í• ë°ì´í„°
    //     })
    // })

</script>
</body>
</html>